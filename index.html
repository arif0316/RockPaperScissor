<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper scissor</title>
</head>
<body>
    <h3>welcome to <strong style="color: brown;"> Tic-Tac-Toe </strong>Game</h3>
    
    
    <button onclick="
    let computerChance=computerTurns();
    let yourTurn = 'Rock';
    player(yourTurn,computerChance);
    ">Rock
    </button>


    <button onclick="
    computerChance = computerTurns();
    yourTurn = 'Paper';
    player(yourTurn,computerChance);
    ">Paper
    </button>


    <button onclick="
    computerChance = computerTurns();
    yourTurn = 'Scissor';
    player(yourTurn,computerChance);       
    ">Scissor
    </button>

    <p class="game-result">Result</p>
    <p class="game-score">Score</p>
    
    <button
        onclick="
      
        score.win = 0;
        score.losses = 0;
        score.ties = 0;

        localStorage.removeItem('score');   
             
        document.querySelector('.game-score').innerHTML=`Win : ${score.win}  Losses : ${score.losses}  Ties : ${score.ties}`;
    
    ">
    Reset Score</button><br><br>

    
    <!-- <button onclick="
            subscribe();
        " class="js-sub">
     Subscribe</button> -->



    <script>
        let score = JSON.parse(localStorage.getItem('score')) || {
            win : 0,
            losses : 0,
            ties : 0

        };   

        /* OR 

        // if(score === null){
        //         score={
        //         win : 0,
        //         losses : 0,
        //         ties : 0
        //         };
        // }
    
        */





        // const score={
        //     win : 0,
        //     losses : 0,
        //     ties : 0

        // };
         // here JSON.stringify() method change the 'object' into 'string' and JSON.parse() change the 'string' into a 'object'...
         // localStorage.setItem('valueName','string') method save the data into local storage and getItem('valueName') give the stored data...

        // console.log(JSON.parse(localStorage.getItem('gameScore')));

        function computerTurns(){
          let randomNo = Math.random();
        //   console.log(randomNo);

          let computerChance='';

          if(randomNo>=0 && randomNo<1/3){
            computerChance='Rock';
          }
          else if(randomNo>=1/3 && randomNo<2/3){
            computerChance='Paper';
          }
          else if(randomNo>=2/3 && randomNo<1){
            computerChance='Scissor'
          }
        return computerChance;
      }


      function player(you,computer){
        let result='';

        if(you === 'Rock'){
            if(computer === 'Rock'){
                result='Game Tie !!!'
            }
            else if(computer==='Paper'){
                result='You Lose !!!'
            }
            else if(computer==='Scissor'){
                result='You Win !!!'
            }
            
        }

        if(you === 'Paper'){
            if(computer === 'Paper'){
                result='Game Tie !!!'
            }
            else if(computer==='Scissor'){
                result='You Lose !!!'
            }
            else if(computer==='Rock'){
                result='You Win !!!'
            }
            
        }

        if(you === 'Scissor'){
            if(computer === 'Scissor'){
                result='Game Tie !!!'
            }
            else if(computer==='Rock'){
                result='You Lose !!!'
            }
            else if(computer==='Paper'){
                result='Hurray You Win !!!'
            }
            
        }
        document.querySelector('.game-result').innerText=`${result}`;
        
        if(result ==='You Win !!!'){
            score.win +=1;
        }
        else if(result==='You Lose !!!'){
            score.losses +=1;
        }
        else if(result==='Game Tie !!!'){
            score.ties +=1;
        }

        // console.log(`Player ${you} : Computer ${computer} Win : ${score.win}  Losses : ${score.losses}  Ties : ${score.ties}`);
        function updateScore(){
            
            document.querySelector('.game-score').innerHTML=`Player ${you} : Computer ${computer} Win : ${score.win}  Losses : ${score.losses}  Ties : ${score.ties}`;
            
        }
        updateScore();


        localStorage.setItem('score', JSON.stringify(score));
        
        
    }
    
    
    // function subscribe(){
    //     const subButton = document.querySelector('.js-sub');

    //     if(subButton.innerHTML === 'Subscribe'){
    //     subButton.innerHTML = 'Subscribed';
    //     }
    //     else{
    //     subButton.innerHTML = 'Subscribe';
    //     }

    // }
     
    
    </script>
</body>
</html>